<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Envision: FilePersistence Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Envision
   </div>
   <div id="projectbrief">A visual programming IDE for object-oriented languages</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">FilePersistence Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Thes <a class="el" href="namespaceFilePersistence.html" title="Thes FilePersistence plug-in implements a file and a clipboard application model stores based on XML...">FilePersistence</a> plug-in implements a file and a clipboard application model stores based on XML.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFilePersistence_1_1FilePersistenceException.html">FilePersistenceException</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFilePersistence_1_1FileStore.html">FileStore</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFilePersistence_1_1NodeIdMap.html">NodeIdMap</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFilePersistence_1_1SystemClipboard.html">SystemClipboard</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFilePersistence_1_1XMLModel.html">XMLModel</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af6659e9888c2274fbe2c7d388c3789ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#af6659e9888c2274fbe2c7d388c3789ec">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, LoadRootOnly)</td></tr>
<tr class="separator:af6659e9888c2274fbe2c7d388c3789ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40df9aa5063deb14ab526392d1f5b81a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a40df9aa5063deb14ab526392d1f5b81a">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, LoadingList)</td></tr>
<tr class="separator:a40df9aa5063deb14ab526392d1f5b81a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a736c37353d2127f54c40052960af65b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a736c37353d2127f54c40052960af65b6">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, LoadingTypedList)</td></tr>
<tr class="separator:a736c37353d2127f54c40052960af65b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5b6e6c7f37b4c15bf1ebbf703c644cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#ad5b6e6c7f37b4c15bf1ebbf703c644cb">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, LoadDataMultipleUnits)</td></tr>
<tr class="separator:ad5b6e6c7f37b4c15bf1ebbf703c644cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2906749dfb8621449eac5fb600d113c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a2906749dfb8621449eac5fb600d113c7">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, SaveRootOnly)</td></tr>
<tr class="separator:a2906749dfb8621449eac5fb600d113c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac59622c2a0589d286c7a3c36f0be4da2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#ac59622c2a0589d286c7a3c36f0be4da2">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, CopyToClipboard)</td></tr>
<tr class="separator:ac59622c2a0589d286c7a3c36f0be4da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75eed3e720ada449bfbef26e86d823bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a75eed3e720ada449bfbef26e86d823bf">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, LoadModeNodesSingleUnitOnly)</td></tr>
<tr class="separator:a75eed3e720ada449bfbef26e86d823bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a3d2a2bbcfe808776f408acc53f8437"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a3a3d2a2bbcfe808776f408acc53f8437">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, SaveModeNodesSingleUnitOnly)</td></tr>
<tr class="separator:a3a3d2a2bbcfe808776f408acc53f8437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aa71d7807175a000e5d76d28b6e71a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a5aa71d7807175a000e5d76d28b6e71a8">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, SavingTypedList)</td></tr>
<tr class="separator:a5aa71d7807175a000e5d76d28b6e71a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e59610dad548563405f831e7f2ffff7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a7e59610dad548563405f831e7f2ffff7">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, CopyPartialToClipboard)</td></tr>
<tr class="separator:a7e59610dad548563405f831e7f2ffff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a612926ad4607a2206a37e26dad9b29d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a612926ad4607a2206a37e26dad9b29d5">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, SaveList)</td></tr>
<tr class="separator:a612926ad4607a2206a37e26dad9b29d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a514838f7b58f7d3950dc069bc7fbb7f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a514838f7b58f7d3950dc069bc7fbb7f0">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, LoadMultipleUnits)</td></tr>
<tr class="separator:a514838f7b58f7d3950dc069bc7fbb7f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6a9d2703df840de6aaad4f5b230add8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#ae6a9d2703df840de6aaad4f5b230add8">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, SaveMultipleUnits)</td></tr>
<tr class="separator:ae6a9d2703df840de6aaad4f5b230add8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3196373a8fbf6d8cf2035308cca091e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a3196373a8fbf6d8cf2035308cca091e1">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, PasteTextFromClipboard)</td></tr>
<tr class="separator:a3196373a8fbf6d8cf2035308cca091e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abda20aa7ed49eadf71b939e2dfe101a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#abda20aa7ed49eadf71b939e2dfe101a6">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, ReSaveList)</td></tr>
<tr class="separator:abda20aa7ed49eadf71b939e2dfe101a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f7dd50ec55e13dfcd21f7e1fcc60b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#ae9f7dd50ec55e13dfcd21f7e1fcc60b2">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, PasteBinaryFromClipboard)</td></tr>
<tr class="separator:ae9f7dd50ec55e13dfcd21f7e1fcc60b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4868bad4f8ce6212e03842688fbe69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a6a4868bad4f8ce6212e03842688fbe69">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, PasteListFromClipboard)</td></tr>
<tr class="separator:a6a4868bad4f8ce6212e03842688fbe69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d68824f6f3d2bfe561aeebeccc91112"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a2d68824f6f3d2bfe561aeebeccc91112">TEST</a> (<a class="el" href="classFilePersistence_1_1FilePersistence.html">FilePersistence</a>, PasteInListFromClipboard)</td></tr>
<tr class="separator:a2d68824f6f3d2bfe561aeebeccc91112"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a226f8b3597752a7df68f16a5cd464ad3"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a226f8b3597752a7df68f16a5cd464ad3">ATTRIBUTE_FALSE</a> = 0</td></tr>
<tr class="separator:a226f8b3597752a7df68f16a5cd464ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c0b6de0db0563a6a33a10baae6eb86e"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a8c0b6de0db0563a6a33a10baae6eb86e">ATTRIBUTE_TRUE</a> = 1</td></tr>
<tr class="separator:a8c0b6de0db0563a6a33a10baae6eb86e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c2706f92b6b1608e1fc73100e98de33"><td class="memItemLeft" align="right" valign="top">static const QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a8c2706f92b6b1608e1fc73100e98de33">CLIPBOARD_TAG</a> = &quot;clipboard&quot;</td></tr>
<tr class="separator:a8c2706f92b6b1608e1fc73100e98de33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae30af4b3e5ad1cc83d4c6fa725f3ae27"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#ae30af4b3e5ad1cc83d4c6fa725f3ae27">MAX_DOUBLE_PRECISION</a> = 15</td></tr>
<tr class="separator:ae30af4b3e5ad1cc83d4c6fa725f3ae27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1ef4c57f101747f389733935298dfe"><td class="memItemLeft" align="right" valign="top">static const QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a7f1ef4c57f101747f389733935298dfe">PREFIX_DOUBLE</a> = QString(&quot;D_&quot;)</td></tr>
<tr class="separator:a7f1ef4c57f101747f389733935298dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cff12866813d6683a9e1db761652fac"><td class="memItemLeft" align="right" valign="top">static const QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#a3cff12866813d6683a9e1db761652fac">PREFIX_INTEGER</a> = QString(&quot;I_&quot;)</td></tr>
<tr class="separator:a3cff12866813d6683a9e1db761652fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af84a3747b6d9db854a5af7a7505a6415"><td class="memItemLeft" align="right" valign="top">static const QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#af84a3747b6d9db854a5af7a7505a6415">PREFIX_STRING</a> = QString(&quot;S_&quot;)</td></tr>
<tr class="separator:af84a3747b6d9db854a5af7a7505a6415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af973e52ea392ad7c8ebfbfceaade8887"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#af973e52ea392ad7c8ebfbfceaade8887">XML_DOM_TYPE</a> = &quot;EnvisionFilePersistence&quot;</td></tr>
<tr class="separator:af973e52ea392ad7c8ebfbfceaade8887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee14e6859e371eace785b276a1004e09"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceFilePersistence.html#aee14e6859e371eace785b276a1004e09">XML_NEWUNIT_NODE_TAG</a> = &quot;persistencenewunit&quot;</td></tr>
<tr class="separator:aee14e6859e371eace785b276a1004e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Thes <a class="el" href="namespaceFilePersistence.html" title="Thes FilePersistence plug-in implements a file and a clipboard application model stores based on XML...">FilePersistence</a> plug-in implements a file and a clipboard application model stores based on XML. </p>
<p>With the help of the <a class="el" href="classFilePersistence_1_1FileStore.html">FileStore</a> class a model can be stored as files on disk, where each persistence unit is saved to a different file. The precise data format is described below.</p>
<p>The <a class="el" href="classFilePersistence_1_1SystemClipboard.html">SystemClipboard</a> class provides access to the system clipboard. It offers functionality to copy a node or a list of nodes to the clipboard. Nodes are copied as an XML text which is described in appendix A.3. Nodes from the clipboard can be pasted into a node of a list type or can be used to replace other nodes in the model.</p>
<h3>Data persistence format</h3>
<p>When application models are stored on disk using the <a class="el" href="classFilePersistence_1_1FileStore.html">FileStore</a> persistent store they are stored in a series of XML files. To describe the format of these files we will use the simple application model shown in the figure below.</p>
<div class="image">
<img src="examplePersistentUnit.png" alt="examplePersistentUnit.png"/>
<div class="caption">
A binary node hierarchy with a persistent unit</div></div>
<p> The image shows a model called <em>units</em> that contains 8 nodes. During the store operation each node is assigned a unique id. The node ids are indicated in the corresponding circle. Nodes 0,2,4 and 6 are of type BinaryNode. A binary node always has a name an optionally has a left and right nodes. The name is just a string. Node 2 in the figure is a persistence unit. Persistence units are saved in separate files by the <a class="el" href="classFilePersistence_1_1FileStore.html">FileStore</a> class.</p>
<p>There is a master file which belongs to the main persistence unit (the model) and a file for each other persistence unit if any. Here is an example of a master file:</p>
<pre class="fragment">&lt;!DOCTYPE EnvisionFilePersistence&gt;
&lt;model nextid="8"&gt;
   &lt;BinaryNode id="0" name="units" partial="0"&gt;
      &lt;Text id="1" name="name" partial="0" &gt;S_root&lt;/Text&gt;
      &lt;persistencenewunitname ="left"&gt;S_2&lt;/persistencenewunit&gt;
      &lt;BinaryNode id="4" name="right" partial="0"&gt;
         &lt;Text id="5" name="name" partial="0"&gt;S_second&lt;/Text&gt;
      &lt;/BinaryNode&gt;
   &lt;/BinaryNode&gt;
&lt;/model &gt;
</pre><p>The root element is <em>model</em> and its <em>nextid</em> attribute indicates the id that should be given to the next node that is created. This is necessary in order to give each node a unique id.</p>
<p>The tag name of all elements other than the model defines the type of the node they represent. The model always contains only one node - the root node. In this case a BinaryNode. Each node has the following attributes: </p>
<ul>
<li><b>id</b> - the integer id of the node. </li>
<li><b>name</b> - the name of the node. This is always set by the parent of the node. The name of the root node is the model (application) name. This is the name by which the parent identifies the node. If the node has a name of its own (such as the name of a method node), this will appear as a sub-element of the node, rather than an attribute. </li>
<li><b>partial</b> - whether the node should be partially loaded if possible. If this is 1, nodes which support partial loading should only load their content partially to avoid too much memory overhead. This property is controlled by the parent. Note that this is only a hint and the application model will ultimately decide which nodes are partially loaded or not, regardless of this of flag.</li>
</ul>
<p>The sub-elements of a node are defined by the Node::store method. They represent the content of the node. There are only three exceptions: String, Integer and Double value nodes. The value of such nodes is saved directly as text into the XML file. Depending on the node type the value is prefixed with 'S_', 'I_' or 'D_' for String, Integer and Double respectively. The root node above has sub-nodes <em>name</em>, <em>left</em> and <em>right</em>.</p>
<p><b>persistencenewunit</b> is a special node which indicates that its content is defined in a different file. The type of this node is also defined in that file. The file name is represented as a string and is therefore preceded by 'S_'. In the example above this filename is simply '2'. Here is the content of that file:</p>
<pre class="fragment">&lt;!DOCTYPE EnvisionFilePersistence&gt;
&lt;BinaryNodePersistenceUnit id="2" name="left" partial="0"&gt;
   &lt;Text id ="3" name="name" partial="0"&gt;S_first&lt;/Text&gt;
   &lt;BinaryNode id="6" name="left" partial="0"&gt;
      &lt;Text id="7" name="name" partial="0"&gt;S_last&lt;/Text&gt;
   &lt;/BinaryNode&gt;
&lt;/BinaryNodePersistenceUnit&gt;
</pre><p>Its structure is identical to the one of the master file, with the exception of the model top-level element which is absent. It is possible to have nested persistence unit nodes, in which case each new unit will be saved in its own file.</p>
<h3>Format of the clipboard store</h3>
<p>When using the ClipboardStore class provided by <a class="el" href="namespaceFilePersistence.html" title="Thes FilePersistence plug-in implements a file and a clipboard application model stores based on XML...">FilePersistence</a> any copied nodes are stored as text in the system clipboard. The format is similar to the one for persisting the model on disk. Here is an example of two nodes being copied to clipboard:</p>
<pre class="fragment">&lt;!DOCTYPE EnvisionFilePersistence&gt;
&lt;clipboard&gt;
   &lt;BinaryNode name="0" partial="0"&gt;
      &lt;Text name="name" partial="0"&gt;S_first&lt;/Text&gt;
   &lt;/BinaryNode&gt;
   &lt;BinaryNode name="1" partial="0"&gt;
      &lt;Text name="name" partial="0"&gt;S_second&lt;/Text&gt;
   &lt;/BinaryNode&gt;
&lt;/clipboard&gt;
</pre><p>The main element is <em>clipboard</em> and it contains one sub-element for each node that was copied. The structure of these sub-node elements is identical to the one discussed above, with the following differences: </p>
<ul>
<li>There is no <em>node</em> <em>id</em> attribute. This attribute is meaningless across projects as it is specific for a model. </li>
<li>The partial hint is always set to 0. Nodes loaded from the clipboard cannot be partially loaded. </li>
<li>For direct children of clipboard the <em>name</em> attribute is simply an index that ranges from 0 to one less than the number of nodes copied to the clipboard. </li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af6659e9888c2274fbe2c7d388c3789ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LoadRootOnly&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a40df9aa5063deb14ab526392d1f5b81a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LoadingList&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a736c37353d2127f54c40052960af65b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LoadingTypedList&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad5b6e6c7f37b4c15bf1ebbf703c644cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LoadDataMultipleUnits&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2906749dfb8621449eac5fb600d113c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SaveRootOnly&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac59622c2a0589d286c7a3c36f0be4da2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CopyToClipboard&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a75eed3e720ada449bfbef26e86d823bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LoadModeNodesSingleUnitOnly&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3a3d2a2bbcfe808776f408acc53f8437"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SaveModeNodesSingleUnitOnly&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5aa71d7807175a000e5d76d28b6e71a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SavingTypedList&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7e59610dad548563405f831e7f2ffff7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CopyPartialToClipboard&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a612926ad4607a2206a37e26dad9b29d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SaveList&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a514838f7b58f7d3950dc069bc7fbb7f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LoadMultipleUnits&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae6a9d2703df840de6aaad4f5b230add8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SaveMultipleUnits&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3196373a8fbf6d8cf2035308cca091e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PasteTextFromClipboard&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abda20aa7ed49eadf71b939e2dfe101a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ReSaveList&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9f7dd50ec55e13dfcd21f7e1fcc60b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PasteBinaryFromClipboard&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6a4868bad4f8ce6212e03842688fbe69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PasteListFromClipboard&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2d68824f6f3d2bfe561aeebeccc91112"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FilePersistence::TEST </td>
          <td>(</td>
          <td class="paramtype">FilePersistence&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PasteInListFromClipboard&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a226f8b3597752a7df68f16a5cd464ad3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int FilePersistence::ATTRIBUTE_FALSE = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c0b6de0db0563a6a33a10baae6eb86e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int FilePersistence::ATTRIBUTE_TRUE = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c2706f92b6b1608e1fc73100e98de33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const QString FilePersistence::CLIPBOARD_TAG = &quot;clipboard&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae30af4b3e5ad1cc83d4c6fa725f3ae27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int FilePersistence::MAX_DOUBLE_PRECISION = 15</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7f1ef4c57f101747f389733935298dfe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const QString FilePersistence::PREFIX_DOUBLE = QString(&quot;D_&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3cff12866813d6683a9e1db761652fac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const QString FilePersistence::PREFIX_INTEGER = QString(&quot;I_&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af84a3747b6d9db854a5af7a7505a6415"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const QString FilePersistence::PREFIX_STRING = QString(&quot;S_&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af973e52ea392ad7c8ebfbfceaade8887"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* FilePersistence::XML_DOM_TYPE = &quot;EnvisionFilePersistence&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aee14e6859e371eace785b276a1004e09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* FilePersistence::XML_NEWUNIT_NODE_TAG = &quot;persistencenewunit&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
